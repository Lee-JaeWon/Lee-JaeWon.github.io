---
title : "[ë…¼ë¬¸ ë¦¬ë·°] STD: Stable Triangle Descriptor for 3D place recognition"
category :
    - SLAM
tag :
    - SLAM
toc : true
toc_sticky: true
comments: true
sidebar_main: true
---
[2023,ICRA] STD: Stable Triangle Descriptor for 3D place recognition ë…¼ë¬¸ ë¦¬ë·°

# Introduction
efficient LiDAR-based place recognition solutionì€ ë‹¤ìŒê³¼ ê°™ì€ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•´ì•¼í•œë‹¤.

- Rotation and Translation invariance
- solution should better provide relative pose
- LiDAR point cloud densityë‚˜ í™˜ê²½ì— robustí•´ì•¼ í•œë‹¤.(point cloudì˜ sparsityê°€ ê±°ë¦¬, scene, LiDAR ì¢…ë¥˜ì— ë”°ë¼ ë°”ë€Œê¸° ë•Œë¬¸ì—)

ì´ëŸ¬í•œ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ê¸° ìœ„í•´, ë³¸ ë…¼ë¬¸ì—ì„œëŠ” **stable triangle descriptor(STD)**ë¼ëŠ” new descriptorë¥¼ ê°œë°œí–ˆë‹¤.

triangleë¡œ ì„ì˜ì˜ three key pointsë¥¼ encoding í•œë‹¤.

polygonì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ descriptorë“¤ê³¼ ë‹¬ë¦¬ triangleì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë” **ì•ˆì •ì **ì´ë‹¤.

ì´ìœ ëŠ”, triangleì˜ íŠ¹ì„±ìƒ ë³€ì˜ ê¸¸ì´ê°€ uniquelyí•˜ê²Œ ê²°ì •ë˜ê¸° ë•Œë¬¸ì´ë‹¤.(ê°ë„ ë˜í•œ ë§ˆì°¬ê°€ì§€)

Key point ì£¼ë³€ì˜ local descriptorì™€ ë¹„êµí•  ë•Œë„ triangleì˜ ëª¨ì–‘ì€ completely **rotation and translation invariance**í•˜ë‹¤.

Triangle descriptorë¥¼ ìœ„í•œ key pointë“¤ì„ ì¶”ì¶œí•˜ê¸° ìœ„í•´, planeì— point cloudë¥¼ projectioní•˜ê³ , boundaryì—ì„œ key pointë¥¼ ì¶”ì¶œí•œ ë‹¤ìŒ, key pointë¥¼ triangleë¡œ í˜•ì„±í•œë‹¤ê³  í•œë‹¤.

Matchingì€ triangleì˜ similarityì— ê¸°ë°˜í•œë‹¤ê³  í•œë‹¤.

<p align="center"><img src="/MyPDF/std(1).png" width = "600" ></p>

ë³¸ ë…¼ë¬¸ì—ì„œ ì£¼ì¥í•˜ëŠ” ê¸°ì—¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- Design a **triangle descriptor**, ì‚¼ê°í˜• ë³€ì˜ ê¸¸ì´ì™€ ê° ì‚¼ê°í˜• ê¼­ì§“ì ì— ë¶™ì–´ ìˆëŠ” ì¸ì ‘í•œ í‰ë©´ì˜ ë²•ì„ ë²¡í„°ë“¤ ì‚¬ì´ì˜ ê°ë„ë¡œ êµ¬ì„±ëœ six-dim vectorì´ë‹¤. completely invariant to rotation and translation.

- **Fast key point extraction method**

- Evaluate under **multiple types of scenarios** and **different LiDAR data**(Spinning and **Solid-state**)

# Methodology
<p align="center"><img src="/MyPDF/std(2).png" width = "800" ></p>

## Stable Triangle Descriptor
Keyframeì—ì„œ loop detectionì„ ìˆ˜í–‰, keyframeì€ ì¶•ì ëœ í¬ì¸íŠ¸ë“¤ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì—, íŠ¹ì • LiDAR scan íŒ¨í„´ê³¼ ê´€ê³„ì—†ì´ ì¦ê°€ëœ point cloud densityë¥¼ ê°€ì§„ë‹¤.

point cloudì˜ keyframeì´ ì£¼ì–´ì§€ë©´,

ì²« ë²ˆì§¸ë¡œ, region growingì— ë”°ë¥¸ **plane detection**ì„ ìˆ˜í–‰í•œë‹¤.

êµ¬ì²´ì ìœ¼ë¡œ, ì „ì²´ point cloudë¥¼ **voxelë“¤ë¡œ ë‚˜ëˆˆë‹¤.**

ê° voxelì€ point ê·¸ë£¹ë“¤ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ì´ë“¤ì˜ covariance matrixë¥¼ [ì•„ë˜](../../MyPDF/std(3).png)ì™€ ê°™ì€ ì‹ì„ í†µí•´ ê³„ì‚°í•œë‹¤.

<p align="center"><img src="/MyPDF/std(3).png" width = "500" ></p>

k-th largest eigenvalueë¥¼ í™œìš©í•˜ì—¬ **plane detectionì˜ criterion**ì„ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í–ˆë‹¤ê³  í•œë‹¤.<br>
($\sigma_{1}$, $\sigma_{2}$ ëŠ” pre-set hyperparameters)

<p align="center"><img src="/MyPDF/std(4).png" width = "500" ></p>

ì´ëŸ¬í•œ criterionì— ë”°ë¼, voxelë‚´ì˜ ì ë“¤ì´ í‰ë©´ì„ í˜•ì„±í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°,

ì´ëŸ¬í•œ voxelì„ plane voxelì´ë¼ê³  í•œë‹¤.

ì´í›„ í•´ë‹¹ í‰ë©´ì„ í‚¤ìš°ê¸° ìœ„í•´ ì´ì›ƒí•˜ëŠ” voxelì„ ì°¾ê³ , ì´ì›ƒ voxelì´ í‰ë©´ì¸ ê²½ìš°(ì„ê³„ê°’ ì´í•˜ì˜ ê±°ë¦¬, ë™ì¼í•œ ë²•ì„  ë°©í–¥)

ì„±ì¥ ì¤‘ì¸ í‰ë©´ì— ì¶”ê°€í•œë‹¤ê³  í•œë‹¤.

ì´ì›ƒ voxelì´ ë™ì¼ í‰ë©´ì´ ì•„ë‹Œ ê²½ìš°, ì„±ì¥ ì¤‘ì¸ í‰ë©´ì˜ boundary voxel ëª©ë¡ì— ì¶”ê°€ëœë‹¤ê³  í•œë‹¤.

ì„±ì¥ ê³¼ì •ì€ ì¶”ê°€ëœ ì´ì›ƒí•˜ëŠ” voxelì´ ëª¨ë‘ í™•ì¥ë˜ê±°ë‚˜ boundary voxelì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µëœë‹¤.([ì•„ë˜ ê·¸ë¦¼](../../MyPDF/std(5).png) ì°¸ì¡°)

<p align="center"><img src="/MyPDF/std(5).png" width = "800" ></p>

(Plane voxel ê´€ë ¨ Reference : [[2022, IEEE RA-L] Efficient and Probabilistic Adaptive Voxel Mapping for Accurate Online LiDAR Odometry](https://ieeexplore.ieee.org/abstract/document/9813516))

ê·¸ë¦¬ê³ , boundary voxelì„ í™œìš©í•˜ì—¬, ì´ë¥¼ í•´ë‹¹í•˜ëŠ” planeì— íˆ¬ì˜í•œë‹¤.

ê° í‰ë©´ì— ëŒ€í•´ í•´ë‹¹ í‰ë©´ê³¼ ì¼ì¹˜í•˜ëŠ” image planeì„ ìƒì„±í•˜ê³  ê° í”½ì…€ì€ í•´ë‹¹ planeì˜ boundary voxelì— í¬í•¨ëœ ì ë“¤ì˜ ìµœëŒ€ ê±°ë¦¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.<br>
([ì•„ë˜ ê·¸ë¦¼](../../MyPDF/std(6).png))

ì´ ë‹¤ìŒ, 5 by 5 ì´ì›ƒì—ì„œ ê°€ì¥ í° í”½ì…€ ê°’ì´ ìˆëŠ” ì ì„ ì„ íƒí•˜ì—¬ keypointë¡œ ì§€ì •í•œë‹¤.

ì¶”ì¶œëœ ê° í‚¤í¬ì¸íŠ¸ëŠ” input point cloudì˜ 3D ì ì— í•´ë‹¹í•˜ë©°, ì¶”ì¶œëœ í•´ë‹¹ í‰ë©´ì˜ ë²•ì„ ê³¼ ì—°ê²°ë  ìˆ˜ ìˆë‹¤.

<p align="center"><img src="/MyPDF/std(6).png" width = "800" ></p>

Triangle descriptorë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´, keyframeì—ì„œ ì¶”ì¶œëœ key pointì™€ í•¨ê»˜ k-D Treeë¥¼ êµ¬ì„±í•˜ê³ , ê° ì ìœ¼ë¡œë¶€í„° 20 near neighbor pointsë¥¼ searchí•œë‹¤.

ê°™ì€ ë³€ ê¸¸ì´ì˜ ì¤‘ë³µë˜ëŠ” descriptorëŠ” ì œê±°ëœë‹¤.

ê° triangle descritorëŠ” ì„¸ ê°œì˜ ì •ì ì¸ $p_{1}$, $p_{2}$, $p_{3}$ ì™€ í•´ë‹¹í•˜ëŠ” projection normal vectorì¸ $n_1$, $n_2$, $n_3$ê°€ ìˆë‹¤.

ì‚¼ê°í˜•ì˜ ê¼­ì§“ì ì€ ë³€ì˜ ê¸¸ì´ ê·œì¹™ì— ë”°ë¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë°°ì—´ë˜ì–´ ìˆë‹¤.

<p align="center"><img src="/MyPDF/std(12).png" width = "400" ></p>

triangle descriptor $\Delta$ëŠ” [ë‹¤ìŒ](../../MyPDF/std(6).png)ê³¼ ê°™ì€ í•­ëª©ì„ ê°€ì§„ë‹¤.

<p align="center"><img src="/MyPDF/std(7).png" width = "600" ></p>

descriptorì— ì¶”ê°€ë¡œ, keyframeì—ì„œ ì¶”ì¶œí•œ nê°œì˜ í‰ë©´ë“¤ ë˜í•œ geometrical verification stepì„ ìœ„í•´ ì €ì¥í•œë‹¤ê³  í•œë‹¤.

([ì´ ê·¸ë¦¼](../../MyPDF/std(1).png)ì„ ë³´ë©´ì„œ ì´í•´í–ˆë‹¤.)

## Search of Loop Candidates
keyframeìœ¼ë¡œë¶€í„°, ìˆ˜ë°±ê°œì˜ descriptorê°€ ì¶”ì¶œë˜ì—ˆê³ , ì´ë¥¼ **ë¹ ë¥´ê²Œ** queryí•˜ê³  descriptorë¥¼ matchingí•˜ê¸° ìœ„í•´ ëª¨ë“  descriptorë¥¼ ì €ì¥í•˜ëŠ”ë° **Hash table**ì„ ì‚¬ìš©í•œë‹¤.

hash keyë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ descriptorì—ì„œ rotation and translation invarianceí•œ 6ê°œì˜ ì†ì„±ì„ ì´ìš©í•œë‹¤.

6ê°œì˜ ì†ì„±ì€ 3ê°œì˜ ë³€ê³¼ normal vectorë“¤ì˜ ë‚´ì  3ê°œì´ë‹¤.

ì†ì„±ì´ ë¹„ìŠ·í•œ descriptorëŠ” ë™ì¼í•œ hash keyë¥¼ ê°€ì§€ê²Œ ë˜ì–´, ë™ì¼í•œ ì»¨í…Œì´ë„ˆì— **ì €ì¥**ëœë‹¤.

ì´ì œ, **queryí•œ** keyframeì—ì„œ [## Stable Triangle Descriptor](#stable-triangle-descriptor)ì—ì„œ ì„¤ëª…í•œëŒ€ë¡œ ëª¨ë“  descriptorë¥¼ ì¶”ì¶œí•˜ê³  ê° descriptorì— ëŒ€í•´ hask keyë¥¼ ê³„ì‚°í•œë‹¤.

ê·¸ë¦¬ê³  ê° descriptorì˜ hask keyì— í•´ë‹¹í•˜ëŠ” hash table containerë¡œ ì´ë™í•˜ì—¬ ì´ ì»¨í…Œì´ë„ˆì— ì†í•œ descriptorë¥¼ ê°€ì§„ **keyframeì— í•œ ë²ˆì”© íˆ¬í‘œ**í•œë‹¤.

ëª¨ë“  query keyframeì˜ ì„ì˜ì˜ descriptorê°€ ì²˜ë¦¬ë  ë•Œ ê¹Œì§€ votingì„ ìˆ˜í–‰í•œë‹¤.

votingì—ì„œ ìƒìœ„ 10ê°œì— ë“  keyframeì€ **í›„ë³´ê°€ ë˜ì–´** ì‹¤ì œ detectionì—ì„œ ì‚¬ìš©ëœë‹¤.

## Loop Detection
ì´ì œ loop candidate keyframeì´ ì£¼ì–´ì¡Œì„ ë•Œ, ë³¸ ë…¼ë¬¸ì—ì„œëŠ” **geometrical verification**ì„ ìˆ˜í–‰í•œë‹¤.

geometrical verificationì€ ë¶€ì •í™•í•œ descriptor matching ìŒìœ¼ë¡œ ì¸í•œ ì˜ëª»ëœ detectionì„ ì œê±°í•˜ê¸° ìœ„í•¨ì´ë‹¤.

triangleì˜ ë³€ì˜ ê¸¸ì´ê°€ ê²°ì •ëœ í›„ì— triangleì˜ ëª¨ì–‘ì´ uniquelyí•˜ê²Œ ê²°ì •ë˜ê¸° ë•Œë¬¸ì—,

triangle descriptor $\Delta_a$ì™€ $\Delta_b$ê°€ ë§¤ì¹­ë˜ì—ˆì„ ë•Œ,

ì´ ë‘˜ì˜ ì •ì (ê°ê°ì˜ $p_{1}$, $p_{2}$, $p_{3}$)ì˜ ëŒ€ì‘ì„ ì•Œê²Œ ë˜ì—ˆê³ , SVDë¥¼ í™œìš©í•´ ë‘ keyframeê°„ì˜ relative transformation $T=(R,t)$ë¥¼ ì‰½ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.

<p align="center"><img src="/MyPDF/std(8).png" width = "600" ></p>

robustnessë¥¼ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´, RANSACë„ ì‚¬ìš©í–ˆë‹¤ê³  í•œë‹¤.

<br>

ì´ë ‡ê²Œ ê³„ì‚°í•œ transformationì— ê¸°ë°˜í•´,

**geometrical verification**ì„ ìœ„í•´ í˜„ì¬ frameê³¼ í›„ë³´ frameê°„ì˜ plane overlapì„ ê³„ì‚°í•œë‹¤ê³  í•œë‹¤.

ì¤‘ì‹¬ì  $g$ì™€ normal vector $u$ê°€ voxelì˜ plane $\pi$ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ê³  í•˜ì.

Plane group of current groupì€ $^{B} \Pi = (^{B} g_{1}, ^{B} u_{1}),...,(^{B} g_{n}, ^{B} u_{n})$

Plane group of candidate groupì€ $^{C} \Pi = (^{C} g_{1}, ^{C} u_{1}),...,(^{C} g_{m}, ^{C} u_{m})$

$(^{C} g_{1}, ^{C} g_{2},...,^{C} g_{m}) \in \ ^{C} \Pi$ ë¥¼ k-D treeë¡œ êµ¬ì„±í•˜ê³ (k=3)

$(^{B} g_{1}, ^{B} g_{2},...,^{B} g_{n}) \in \ ^{B} \Pi$ ë¥¼ ì–»ì€ transformationì„ í†µí•´ transformì„ ìˆ˜í–‰í•œë‹¤.

ê·¸ë¦¬ê³  ë³€í™˜í•œ ì ê³¼ k-D treeì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ í¬ì¸íŠ¸ $^{C} g_{j}$ ë¥¼ searchí•˜ê³ , ì´ ì ì˜ ë‘ í‰ë©´ì´ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤.

ì¼ì¹˜ ì—¬ë¶€ëŠ” normal vectorì˜ ì°¨ì´ì™€ point-to-plane ê±°ë¦¬ë¥¼ í†µí•´ í™•ì¸í•œë‹¤.

<p align="center"><img src="/MyPDF/std(9).png" width = "600" ></p>

($\sigma_{n}$, $\sigma_{d}$ ëŠ” pre-set hyperparameters)

pairì—ì„œ [ì‹(4)](../../MyPDF/std(9).png)ê°€ ë§Œì¡±ë˜ë©´, ë‘ í‰ë©´ì€ ì¼ì¹˜í•œë‹¤.

current frameê³¼ ëª¨ë“  í‰ë©´ì„ í™•ì¸í•œ í›„, í‰ë©´ ì¼ì¹˜ìœ¨ì— ëŒ€í•œ ë°±ë¶„ìœ¨ì„ ê³„ì‚°í•œë‹¤.

<p align="center"><img src="/MyPDF/std(10).png" width = "600" ></p>

ì´ ë°±ë¶„ìœ¨ì´ íŠ¹ì • thresholdë¥¼ ì´ˆê³¼í•˜ë©´ valid loop detectionìœ¼ë¡œ ê°„ì£¼í•œë‹¤.

geometric verification based on planes ë°©ë²•ì´ ICP-based ë°©ë²•ë“¤ë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì´ë¼ í•œë‹¤.<br>
(point cloud ìˆ˜ë³´ë‹¤ planeìˆ˜ê°€ í›¨ì”¬ ì ê¸° ë•Œë¬¸ì—)

ë˜í•œ, ìœ„ì—ì„œ ê³„ì‚°í•œ normal vector differenceì™€ point-to-plane ê±°ë¦¬ë¥¼ ì¶”ê°€ë¡œ ìµœì í™”í•  ìˆ˜ë„ ìˆë‹¤ê³  í•œë‹¤.

# Experiments
ìƒëµ, SOTA

<p align="center"><img src="/MyPDF/std(11).png" width = "600" ></p>

# ì°¸ê³ ìë£Œ
[Yuan, Chongjian, et al. "Std: Stable triangle descriptor for 3d place recognition." 2023 IEEE International Conference on Robotics and Automation (ICRA). IEEE, 2023.](https://ieeexplore.ieee.org/abstract/document/10160413)

[Yuan, Chongjian, et al. "Efficient and probabilistic adaptive voxel mapping for accurate online lidar odometry." IEEE Robotics and Automation Letters 7.3 (2022): 8518-8525.](https://ieeexplore.ieee.org/abstract/document/9813516)

ğŸ“£<br>
í¬ìŠ¤íŒ…ì—ì„œ ì˜¤ë¥˜ë‚˜ ê¶ê¸ˆí•œ ì ì€ Commentsë¥¼ ì‘ì„±í•´ ì£¼ì‹œë©´, ë§ì€ ë„ì›€ì´ ë©ë‹ˆë‹¤.ğŸ’¡
{: .notice--info}